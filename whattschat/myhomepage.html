<h1>whattschat v(2.5)</h1>
<h2>successfully logged in to whattschat</h2>
<h3>my whattschat home page</h3>
<script>
 

     

    document.getElementById("demo").innerHTML = 
    "The full URL of this page is:<br>" + window.location.href;
    </script>
<!DOCTYPE html>
<html>
<body>

<h2>Get the current URL</h2>

<p id="demo"></p>

<script>
document.getElementById("demo").innerHTML = 
"hi " + window.location.href;
</script>

</body>
</html>
<html>
<head>
<script src="https://www.gstatic.com/firebasejs/8.4.2/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.4.2/firebase-database.js"></script>

  
<style>
  
  .customInput {
  width:200px;
  height:30px;
  border: 3px solid white;
  border-radius: 5px;
  padding: 5px;
  background-color:transparent;
  font-size: 20px;
  outline:none;
  color:white;
  font-family: vollkorn;
  text-align: center;
}

.button {
  display: inline-block;
  padding: 15px 25px;
  font-size: 14px;
  cursor: pointer;
  text-align: center;
  text-decoration: none;
  outline: none;
  color: #fff;
  background-color: #4CAF50;
  border: none;
  border-radius: 14px;
  box-shadow: 0 9px #999;
}
.button1 {
  display: inline-block;
  padding: 15px 25px;
  font-size: 24px;
  cursor: pointer;
  text-align: center;
  text-decoration: none;
  outline: none;
  color: #ffff00;
  background-color: #800080;
  border: none;
  border-radius: 15px;
  box-shadow: 0 9px #3e8e41;
}

.button:hover {background-color: #3e8e41}
.button1:hover {background-color: #242124}

.button:active {
  background-color: #3e8e41;
  box-shadow: 0 5px #666;
  transform: translateY(4px);
}
</style>  
</head>
<body bgcolor= "#ffb404">
 </h3>



<form >
  <table>
  <tr>
  <td>
    <table>
      <tr>
      <td>
      <tr><td></td><td><input type="button" class="button1" value="USE ACCOUNT" onclick="fnSignUP()"></td>
      </tr>
    </table>
  </td>

  

</form>
<br><br>

</body>

<script>
  var firebaseConfig = {
    apiKey: "AIzaSyBP5fSB_kiakv0r-WMo7BkP2Ik70c26tT0",
  authDomain: "whattschat-f522c.firebaseapp.com",
  databaseURL: "https://whattschat-f522c-default-rtdb.firebaseio.com",
  projectId: "whattschat-f522c",
  storageBucket: "whattschat-f522c.appspot.com",
  messagingSenderId: "746097682908",
  appId: "1:746097682908:web:51a0278320ad4af5774719",
};
// Initialize Firebase
firebase.initializeApp(firebaseConfig);
 
var database;
database = firebase.database();


  if (window.location.href == "http://127.0.0.1:5500/whattschat/myhomepage.html") {
    window.open("http://127.0.0.1:5500/whattschat/banned.html");
   alert ("this is no ones account");
   
        userchecker = false;     
      }    

      if(userchecker = false){
        alert ("false");
        
      }
      if (window.location.href != "http://127.0.0.1:5500/whattschat/myhomepage.html"){
        alert ("this is your account");
      }

      if (window.location.href == "http://127.0.0.1:5500/whattschat/myhomepage.html?"){
        window.open("http://127.0.0.1:5500/whattschat/banned.html");
        alert ("this is noones account");
      }
      

</script>

<script>
  var userISfound, passwordmatched;
  var userchecker
  
    
  function fnLogin(){
    var myuserid = document.getElementById("username2").value;
    var mypassword = document.getElementById("password2").value;
    var MyValRef = database.ref("/");
    var myuserandpassword = myuserid + mypassword + MyValRef ;

    userISfound = false;

    MyValRef.orderByValue().on("value", function(snapshot) {
      snapshot.forEach(function(data) {
      if (myuserid == data.key) {
        userISfound = true;                     
      }         
      });

      // if (userISfound != true) {
      //   alert("User ID Error!!");
      // } else {
      //   alert("User ID Matched");
      // }

      fnCheckPassword(myuserid,mypassword);
    });
  }

  function fnCheckPassword(myuserid,mypassword){
    var MyValRef = database.ref("/"+myuserid);

    passwordmatched = false;

    MyValRef.orderByValue().on("value", function(snapshot) {
    snapshot.forEach(function(data) {
      console.log(data.val());
      if (mypassword == data.val()) {
        passwordmatched = true;                
      }         
      });

      if (passwordmatched != true) {
        alert("User ID or Password is incorrect, Please retry!!");
      }
      else
      window.open("myhomepage.html?"+ myuserid,mypassword+ "_self", "");
      
        alert("You successfully logged in");
        
    });
  }

  function fnSignUP(){
    
    var myuserid = document.getElementById("username1").value;
    var mypassword = document.getElementById("password1").value;

    
    
    if (mypassword == "") {
      alert("Password is blank");
      return;
    }

    if (myuserid == "") {
      alert("UserID is blank");
      return;
    } 

    database.ref("/" + myuserid).update({
      password : mypassword
      
   });

   alert("username: " + myuserid + " was created successfully, thank you " + myuserid);
  }


</script>



</html>