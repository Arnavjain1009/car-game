<!DOCTYPE html>
<html>
<head>
    <title>Save IP Address Example</title>
    <script src="https://www.gstatic.com/firebasejs/9.4.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.4.1/firebase-database.js"></script>
    <script>
        // Initialize Firebase
        const firebaseConfig = {
            // Replace with your Firebase project's configuration
			apiKey: "AIzaSyBP5fSB_kiakv0r-WMo7BkP2Ik70c26tT0",
  authDomain: "whattschat-f522c.firebaseapp.com",
  databaseURL: "https://whattschat-f522c-default-rtdb.firebaseio.com",
  projectId: "whattschat-f522c",
  storageBucket: "whattschat-f522c.appspot.com",
  messagingSenderId: "746097682908",
  appId: "1:746097682908:web:51a0278320ad4af5774719",
        };
        firebase.initializeApp(firebaseConfig);

        function hideMessage() {
  // This function will hide the message when "Yes" is clicked
  document.querySelector("h1").style.display = "none";
  document.querySelector("button:nth-of-type(1)").style.display = "none";
  document.querySelector("button:nth-of-type(2)").style.display = "none";

  // Save the user's IP address in Firebase under "cookies" collection
  const cookiesRef = firebase.firestore().collection("cookies");
  cookiesRef.add({
    ip: getUserIpAddress(),
    timestamp: firebase.firestore.Timestamp.fromDate(new Date())
  })
    .then(() => {
      console.log("IP address saved successfully");
    })
    .catch(error => {
      console.error("Error saving IP address: ", error);
    });
}

function getUserIpAddress() {
  // This function returns the user's IP address
  // You can use any method to get the user's IP address
  // Here's an example using an API to get the IP address
  return fetch("https://api.ipify.org?format=json")
    .then(response => response.json())
    .then(data => data.ip)
    .catch(error => {
      console.error("Error getting IP address: ", error);
      return "Unknown";
    });
}

    </script>
</head>
<body>
    <!-- Your page content here -->
</body>
</html>
